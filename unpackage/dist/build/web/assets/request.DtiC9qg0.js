import{H as t,G as e,s as o}from"./index-DwnOT4K7.js";const s="http://110.42.210.113:9999",a=s;const r=new class{constructor(){this.baseURL=s,this.timeout=3e4}request(s){return new Promise(((a,r)=>{let n="";try{const e=t("userInfo");if(e){n=("string"==typeof e?JSON.parse(e):e).authorization||""}}catch(i){console.error("获取token失败:",i),n=""}e({url:this.baseURL+s.url,method:s.method||"GET",data:s.data||{},header:{"Content-Type":"application/json",Authorization:n?`Bearer ${n}`:"",...s.header},timeout:this.timeout,success:t=>{console.log("API请求成功:",t),200===t.statusCode?"200"===t.data.code||200===t.data.code?a(t.data):(o({title:t.data.message||"请求失败",icon:"none"}),r(t.data)):(o({title:`请求失败 ${t.statusCode}`,icon:"none"}),r(t))},fail:t=>{console.error("API请求失败:",t),o({title:"网络请求失败",icon:"none"}),r(t)}})}))}get(t,e,o={}){return this.request({url:t,method:"GET",data:e,...o})}post(t,e,o={}){return this.request({url:t,method:"POST",data:e,...o})}put(t,e,o={}){return this.request({url:t,method:"PUT",data:e,...o})}delete(t,e,o={}){return this.request({url:t,method:"DELETE",data:e,...o})}};export{a as b,r};
